Version 4
SHEET 1 3400 680
WIRE 496 -288 480 -288
WIRE 592 -288 560 -288
WIRE -288 -224 -320 -224
WIRE 480 -208 480 -288
WIRE 496 -208 480 -208
WIRE 704 -208 576 -208
WIRE -528 -176 -528 -192
WIRE -320 -176 -320 -224
WIRE 240 -160 80 -160
WIRE 160 -112 160 -176
WIRE 80 -96 80 -160
WIRE 128 -96 80 -96
WIRE 240 -80 240 -160
WIRE 240 -80 192 -80
WIRE 288 -80 240 -80
WIRE 352 -80 288 -80
WIRE 384 -80 352 -80
WIRE 480 -80 480 -208
WIRE 480 -80 464 -80
WIRE 512 -80 480 -80
WIRE -528 -64 -528 -96
WIRE -384 -64 -528 -64
WIRE -320 -64 -320 -96
WIRE -320 -64 -384 -64
WIRE 128 -64 -80 -64
WIRE 592 -64 592 -288
WIRE 592 -64 576 -64
WIRE 624 -64 592 -64
WIRE 704 -64 704 -208
WIRE 704 -64 688 -64
WIRE 720 -64 704 -64
WIRE 512 -48 480 -48
WIRE 832 -48 816 -48
WIRE 944 -48 912 -48
WIRE -320 -32 -320 -64
WIRE 480 -16 480 -48
WIRE 1280 0 1120 0
WIRE -80 48 -80 -64
WIRE 1200 48 1200 -16
WIRE 1120 64 1120 0
WIRE 1168 64 1120 64
WIRE -384 80 -384 -64
WIRE -320 80 -320 48
WIRE -288 80 -320 80
WIRE 352 80 352 -80
WIRE 384 80 352 80
WIRE 800 80 800 -64
WIRE 800 80 464 80
WIRE 816 80 816 -48
WIRE 816 80 800 80
WIRE 848 80 816 80
WIRE 1280 80 1280 0
WIRE 1280 80 1232 80
WIRE 1296 80 1280 80
WIRE 1408 80 1408 48
WIRE 1408 80 1376 80
WIRE 1456 80 1408 80
WIRE 1488 80 1456 80
WIRE 944 96 944 -48
WIRE 944 96 912 96
WIRE 1024 96 944 96
WIRE 1120 96 1104 96
WIRE 1168 96 1120 96
WIRE -80 112 -80 48
WIRE 848 112 816 112
WIRE 1408 112 1408 80
WIRE 1456 128 1456 80
WIRE 816 144 816 112
WIRE 1120 144 1120 96
WIRE 1456 176 1408 176
WIRE -80 272 -80 192
FLAG -384 80 0
FLAG -80 272 0
FLAG -288 80 -12
IOPIN -288 80 BiDir
FLAG -288 -224 +12
IOPIN -288 -224 BiDir
FLAG -528 -192 +3.3
IOPIN -528 -192 BiDir
FLAG 160 -48 -12
IOPIN 160 -48 BiDir
FLAG 160 -176 +12
IOPIN 160 -176 BiDir
FLAG -80 48 CV
FLAG 288 -80 buffer_in
FLAG 544 -32 -12
IOPIN 544 -32 BiDir
FLAG 544 -96 +12
IOPIN 544 -96 BiDir
FLAG 880 128 -12
IOPIN 880 128 BiDir
FLAG 880 64 +12
IOPIN 880 64 BiDir
FLAG 480 -16 0
FLAG 816 144 0
FLAG 944 96 full_wave_rect
FLAG 1488 80 ADC
FLAG 1456 192 0
FLAG 1200 112 -12
IOPIN 1200 112 BiDir
FLAG 1200 -16 +12
IOPIN 1200 -16 BiDir
FLAG 1120 224 0
FLAG 1408 -16 +3.3
IOPIN 1408 -16 BiDir
SYMBOL voltage -320 -192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vcc
SYMATTR Value 12
SYMBOL voltage -80 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -59 10 Left 2
WINDOW 3 -116 234 Left 2
SYMATTR InstName Vdrv
SYMATTR Value PULSE(-10 10 0 0.05 0.05 0 0.1 10)
SYMBOL voltage -320 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vee
SYMATTR Value 12
SYMBOL voltage -528 -192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vcc1
SYMATTR Value 3.3
SYMBOL OpAmps\\TL072 160 -144 R0
SYMATTR InstName U3
SYMBOL OpAmps\\TL072 544 -128 R0
SYMATTR InstName U1
SYMBOL res 480 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 6.8k
SYMBOL res 480 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 6.8k
SYMBOL res 592 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 6.8k
SYMBOL schottky 560 -304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 688 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 816 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 3.4k
SYMBOL OpAmps\\TL072 880 32 R0
SYMATTR InstName U2
SYMBOL res 928 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 6.8k
SYMBOL res 1392 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL cap 1440 128 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL OpAmps\\TL072 1200 16 R0
SYMATTR InstName U4
SYMBOL res 1120 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 22k
SYMBOL res 1136 240 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 8.2k
SYMBOL diode 1424 48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode 1424 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
TEXT -192 368 Left 2 !.tran 0.2s
TEXT -192 416 Left 2 !.inc LM339.sub
TEXT -192 456 Left 2 !.include AD633.cir
